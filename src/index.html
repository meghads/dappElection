<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DemocraChain</title>
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/styles.css" rel="stylesheet">
</head>
<body>
  <!-- Navigation Bar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm">
    <div class="container">
      <a class="navbar-brand" href="#" onclick="navigateTo('home')">DemocraChain</a>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="#" onclick="navigateTo('register')">REGISTER</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" onclick="navigateTo('voting')">VOTING</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  
  <!-- Home Section -->
<div id="home" style="display: block; text-align: center; margin-top: 100px;">
  <h1 style="font-size: 3rem; font-weight: bold; color: #2980b9;">Welcome to DemocraChain</h1>
  <p style="font-size: 1.75rem; max-width: 800px; margin: 20px auto; color: #34495e; line-height: 1.6;">
    DemocraChain is a decentralized, secure, and transparent voting platform built on blockchain technology. In today's digital world, ensuring that elections are free, fair, and tamper-proof is more important than ever. DemocraChain leverages the power of blockchain to eliminate fraud, ensure voter privacy, and provide transparency in voting processes.
  </p>

  <h2 style="margin-top: 40px; font-size: 2.5rem; color: #2980b9;">What is Blockchain?</h2>
  <p style="font-size: 1.75rem; max-width: 800px; margin: 20px auto; color: #34495e; line-height: 1.6;">
    Blockchain is a distributed ledger technology that records transactions in a secure, transparent, and immutable manner. Each "block" contains a list of transactions, and once added to the chain, it cannot be altered. This makes blockchain perfect for applications like voting, where integrity, privacy, and transparency are critical. In the context of elections, blockchain ensures that each vote is securely recorded, counted, and made tamper-proof, giving voters confidence in the election process.
  </p>

  <h2 style="margin-top: 40px; font-size: 2.5rem; color: #2980b9;">How Blockchain is Revolutionizing Voting</h2>
  <p style="font-size: 1.75rem; max-width: 800px; margin: 20px auto; color: #34495e; line-height: 1.6;">
    Traditional voting systems often face challenges such as voter fraud, miscounted ballots, lack of transparency, and lack of security. Blockchain-based voting systems address these problems by providing:
  </p>
  <ul style="text-align: left; max-width: 800px; margin: 20px auto; font-size: 1.75rem; color: #34495e; line-height: 1.6;">
    <li><strong>Transparency:</strong> Every vote is recorded on the blockchain and is visible to everyone, making the entire voting process transparent.</li>
    <li><strong>Security:</strong> Blockchain’s cryptographic nature ensures that votes cannot be tampered with, preventing fraud.</li>
    <li><strong>Voter Privacy:</strong> Voters' identities are kept secure, and their choices remain private while still being verifiable on the blockchain.</li>
    <li><strong>Decentralization:</strong> Unlike traditional systems, which rely on a central authority, blockchain-based voting systems are decentralized, making them resistant to manipulation and hacking.</li>
    <li><strong>Auditable:</strong> With blockchain, the voting process can be audited at any time, ensuring the integrity of the results.</li>
  </ul>

  <h2 style="margin-top: 40px; font-size: 2.5rem; color: #2980b9;">Voting Procedure on DemocraChain</h2>
  <p style="font-size: 1.75rem; max-width: 800px; margin: 20px auto; color: #34495e; line-height: 1.6;">
    Voting on DemocraChain is simple, secure, and transparent. Here's how it works:
  </p>
  <ol style="text-align: left; max-width: 800px; margin: 20px auto; font-size: 1.75rem; color: #34495e; line-height: 1.6;">
    <li><strong>Register:</strong> To start, users need to register by entering their unique Voter ID. This is a one-time process to ensure that only legitimate voters participate in the election.</li>
    <li><strong>Vote Casting:</strong> After registration, voters can select their preferred candidate from a list of verified candidates. Each vote is recorded on the blockchain, ensuring security and transparency.</li>
    <li><strong>Secure Transactions:</strong> Once a vote is cast, it is added to the blockchain, making it immutable. The voter's choice is securely stored, and no one can alter the results.</li>
    <li><strong>Results:</strong> After the voting period ends, the results are automatically tallied, and the winner is announced. Since everything is on the blockchain, the results are verifiable by anyone, ensuring trust and credibility.</li>
  </ol>

  <h2 style="margin-top: 40px; font-size: 2.5rem; color: #2980b9;">Why Choose DemocraChain?</h2>
  <p style="font-size: 1.75rem; max-width: 800px; margin: 20px auto; color: #34495e; line-height: 1.6;">
    DemocraChain offers a more secure, transparent, and efficient way of conducting elections, whether it's for local elections, student body elections, or any other voting event. Here’s why you should choose DemocraChain:
  </p>
  <ul style="text-align: left; max-width: 800px; margin: 20px auto; font-size: 1.75rem; color: #34495e; line-height: 1.6;">
    <li><strong>Fair Elections:</strong> No more voter fraud or ballot manipulation. Blockchain ensures that all votes are counted as they are cast, with no way for anyone to change the results.</li>
    <li><strong>Easy Access:</strong> Vote from anywhere, at any time, and on any device. All you need is your Voter ID to get started.</li>
    <li><strong>Real-Time Results:</strong> Watch the election results unfold in real time, knowing that they are accurate and tamper-proof.</li>
    <li><strong>Environmental Sustainability:</strong> By reducing the need for physical voting booths and paperwork, DemocraChain helps lower the environmental impact of traditional voting systems.</li>
  </ul>

  <h2 style="margin-top: 40px; font-size: 2.5rem; color: #2980b9;">Join DemocraChain Today!</h2>
  <p style="font-size: 1.75rem; max-width: 800px; margin: 20px auto; color: #34495e; line-height: 1.6;">
    Embrace the future of voting with DemocraChain. Whether you're a voter, candidate, or organizer, our platform ensures a smooth and secure experience. Get started by registering today!
  </p>
</div>



  <!-- Voter ID Section -->
  <div id="register" style="display: none; text-align: center; margin-top: 100px;">
    <h1 style="font-weight: bold; color: #0056b3;">REGISTRATION</h1>
    <form id="idForm">
      <select id="idType" style="margin-bottom: 10px; padding: 5px; font-size: 16px;">
        <option value="voterId">Voter ID</option>
        <option value="aadhaar">Aadhaar</option>
      </select>
      <input type="text" id="idInput" placeholder="Enter your ID" required style="display: block; margin: 10px auto;">
      <button type="submit" class="btn btn-primary" style="margin-bottom: 20px;">REGISTER</button>
    </form>
  </div>

  <!-- Voting Interface Section -->
  <div id="voting" style="display: none;">
    <div class="container" style="width: 650px; margin-top: 50px;">
      <h1 class="text-center" style="font-weight: bold; color: #0056b3;">VOTING POLL</h1>
      <div id="loader">
        <p class="text-center">Loading...</p>
      </div>
      <div id="content" style="display: none;">
        <!-- Voting Results Table -->
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th>#</th>
              <th>Name</th>
              <th>Votes</th>
            </tr>
          </thead>
          <tbody id="candidatesResults"></tbody>
        </table>

        <!-- Vote Casting Form -->
        <form onsubmit="App.castVote(); return false;">
          <div class="form-group">
            <label for="candidatesSelect">Select Candidate</label>
            <select class="form-control" id="candidatesSelect"></select>
          </div>
          <button type="submit" class="btn btn-primary">VOTE</button>
        </form>

        <!-- Voter Account Info -->
        <p id="accountAddress" class="text-center"></p>
      </div>
    </div>
  </div>
    <!-- Already Voted Message -->
    <div id="alreadyVoted" style="display: none; text-align: center; margin: 35px;">
      <h3 style="color: #007bff; font-weight: 900;">YOU HAVE ALREADY VOTED!</h3>
    </div>

  <!-- Scripts -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="js/web3.min.js"></script>
  <script src="js/truffle-contract.js"></script>
  <script src="js/app.js"></script>
  <script>
    // Function to handle navigation
    function navigateTo(section) {
      const sections = ['home', 'register', 'voting'];
      sections.forEach((sec) => {
        document.getElementById(sec).style.display = sec === section ? 'block' : 'none';
      });
    }
  
    $(document).ready(function () {
      // Handle ID Form submission
      $('#idForm').on('submit', function (e) {
        e.preventDefault();
        const idType = $('#idType').val(); // Get selected ID type (Voter ID or Aadhaar)
        const idValue = $('#idInput').val().trim(); // Get entered ID value
        
        if (idType === 'voterId' && /^[A-Z0-9]{10}$/.test(idValue)) {
          localStorage.setItem('voterId', idValue); // Store Voter ID locally
          navigateTo('voting'); // Navigate to voting section
          App.init(); // Initialize the voting application
        } else if (idType === 'aadhaar' && /^\d{12}$/.test(idValue)) {
          localStorage.setItem('aadhaar', idValue); // Store Aadhaar number locally
          navigateTo('voting'); // Navigate to voting section
          App.init(); // Initialize the voting application
        } else {
          alert(`Please enter a valid ${idType === 'voterId' ? 'Voter ID' : 'Aadhaar Number'}.`);
        }
      });
    });
  </script>
  
</body>
</html>
